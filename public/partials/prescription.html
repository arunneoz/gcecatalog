
<!-- NAVIGATION -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#"><img src ="images/walgreens-logo.png" height=32 width=32 align="left"/><a class="navbar-brand" href="javascript:void(0)">Walgreens Pharmacy Application</a>
				<!-- <ul class="user-menu">
					<li class="dropdown pull-right" ng-controller="logoutController">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown"><svg class="glyph stroked male-user"><use xlink:href="#stroked-male-user"></use></svg> User <span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<li><a href="#"><svg class="glyph stroked male-user"><use xlink:href="#stroked-male-user"></use></svg> Profile</a></li>
							<li><a href="#"><svg class="glyph stroked gear"><use xlink:href="#stroked-gear"></use></svg> Settings</a></li>
							<li><a ng-click='logout()'><svg class="glyph stroked cancel"><use xlink:href="#stroked-cancel"></use></svg> Logout</a></li>
						</ul>
					</li>
				</ul>-->
        <ul class="user-menu">

            <li class="dropdown" ng-controller="logoutController">
              <a href="javascript:void(0)" data-target="#" class="dropdown-toggle" data-toggle="dropdown"> <svg class="glyph stroked male-user"><use xlink:href="#stroked-male-user"></use></svg> User
                <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="javascript:void(0)"><svg class="glyph stroked male-user"><use xlink:href="#stroked-male-user"></use></svg> Profile</a></li>
                <li><a href="javascript:void(0)"><svg class="glyph stroked gear"><use xlink:href="#stroked-gear"></use></svg> ChangePassword</a></li>

                <li class="divider"></li>
                <li><a ng-click='logout()'><svg class="glyph stroked cancel"><use xlink:href="#stroked-cancel"></use></svg> Logout</a></li>
              </ul>
            </li>
          </ul>
			</div>

		</div><!-- /.container-fluid -->
	</nav>
<!-- MAIN CONTENT -->

<div id="sidebar-collapse" class="col-sm-3 col-lg-2 sidebar">

<ul class="nav menu">
  <li class="active"><a href="#/"><svg class="glyph stroked dashboard-dial"><use xlink:href="#stroked-dashboard-dial"></use></svg> Home </a></li>
  <li><a href="#/"><svg class="glyph stroked calendar"><use xlink:href="#stroked-calendar"></use></svg> Tasks</a></li>


</ul>

</div>

<div class="col-sm-12 col-sm-offset-3 col-lg-12 col-lg-offset-2 main"  ng-controller="PatientCtrl" data-ng-init="init()">

  <div class="row">
			<ol class="breadcrumb">
				<li><a href="#/"><svg class="glyph stroked home"><use xlink:href="#stroked-home"></use></svg></a></li>
        <li >Patient</li>
				<li class="active">Precription</li>
			</ol>
		</div><!--/.row-->


<div class="row">
</div>
             <div class="row">
         			<div class="col-md-2" >

                 <div class="well well-sm " ng-repeat="patient in spatient.data">
                      <legend>Patient Info - {{patient.name}} </legend>

                        <div class="row">
                             <div class="col-md-6">

                          <p>
                              <b>Id:</b> {{patient.id}}
                             <br />
                              <b>Age: </b> {{patient.age}}
                              <br />
                              <b>DoB:</b> {{patient.dob}}</p>

                        </div>
                      </br>








                </div>
              </div>


                <div class="card hovercard">
                  <div class="cardheaderallergy">

                  </div>
                  <div class="avatar">
                      <img alt="" src="images/alert.png">
                  </div>
                  <div class="info">
                      <div class="title">
                          <a target="_blank" href="http://scripteden.com/">Patient Allergy</a>
                      </div>
                      <div class="desc">Lactose</div>
                      <div class="desc">Peanuts</div>
                  </div>

              </div>



               <div class="card hovercard">
                 <div class="cardheader">

                 </div>
                 <div class="avatar">
                     <img alt="" src="images/alert.png">
                 </div>
                 <div class="info">
                     <div class="title">
                         <a target="_blank" href="http://scripteden.com/">Lipitor Advisory</a>
                     </div>
                     <div class="desc">Atorvastatin may cause side effects like</div>
                     <div class="desc">heartburn</div>
                     <div class="desc">joint pain</div>
                 </div>

             </div>




         </div>

          <div class="col-lg-8">
            <div class="well well-sm" ng-switch="divId">
              <div ng-switch-when="form">
                 <form class="form-horizontal" name="prescriptionForm" ng-controller="PrescriptionCtrl" ng-submit="createPrescription()">
                    <fieldset>
                       <legend>Create Prescription</legend>
                       <div class="form-group">
                         <label for="inputDrug" class="col-md-2 control-label">Drug Name</label>

                         <div class="col-md-4 inner-addon right-addon">
                              <input type="text" ng-model="prescriptionForm.drugName" class="form-control" placeholder="Drug">
                         </div>

                         <label for="inputDate" class="col-md-2 control-label">Start Date</label>
                         <div class="col-md-4 inner-addon right-addon">
                         <input class="form-control" ng-model="prescriptionForm.startDate" placeholder="Enter date"></input>
                         </div>

                       </div>

                       <div class="form-group">
                         <label for="inputDEA" class="col-md-2 control-label">DEA #</label>

                         <div class="col-md-4">

                           <input type="text" id="inputDEA" name="inputDEA" ng-model="prescriptionForm.dea" class="form-control" placeholder="DEA #" blacklist="coconuts,bananas,pears" required/>
													 <span ng-messages="prescriptionForm.inputDEA.$error">
											      <span class="invalid" ng-message="required">required</span>
											         <span class="invalid" ng-message="blacklist">
											          The Prescriber "{{prescriptionForm.dea}}" is not valid</span>
											      </span>
                        </div>

                        <label for="inputUnits" class="col-md-2 control-label">Doc Name</label>

                        <div class="col-md-4">

                          <input type="text" id="inputDocName" name="inputDocName" ng-model="prescriptionForm.docName" class="form-control" placeholder="Doctor's Name">

                       </div>
                         </div>

                       <div class="form-group">
                          <label for="inputRoute" class="col-md-2 control-label">Route</label>

                          <div class="col-md-4">

                              <select id="inputRoute" name="inputRoute[RouteAdminstrationCodes]" ng-model="prescriptionForm.routeCode" class="form-control">
                                <option value="AS">AS</option>
                                <option value="AU">AU</option>
                                <option value="garg">garg</option>
                                <option value="ID">ID</option>
                                <option value="IJ">IJ</option>
                                <option value="PO">PO</option>
                              </select>
                         </div>


                         </div>




                        <div class="form-group">
                          <label for="inputDose" class="col-md-2 control-label">Dose</label>

                          <div class="col-md-4">

                            <input type="number" id="inputDose" name="inputDose" ng-model="prescriptionForm.dosage" class="form-control" value="0" min="0"/>

                         </div>

                         <label for="inputUnits" class="col-md-2 control-label">Units</label>

                         <div class="col-md-4">

                           <input type="text" id="inputdoseUnits" name="inputUnits" ng-model="prescriptionForm.dosageUnits" class="form-control">

                        </div>
                          </div>


													<div class="form-group">
														 <label for="inputDuration" class="col-md-2 control-label">Duration</label>

														 <div class="col-md-4">

															 <input type="number" id="inputDuration" name="inputDuration"  ng-model="prescriptionForm.drugDuration"  class="form-control" value="0" min="0">
														</div>

													 <label for="inputFrequency" class="col-md-2 control-label">Frequency</label>

													 <div class="col-md-4">

														 <input type="number" id="inputFrequency" name="inputFrequency"  ng-model="prescriptionForm.drugFreq"  class="form-control" value="0" min="0">

													</div>
												 </div>


                       <div class="form-group">
                          <label for="inputQty" class="col-md-2 control-label">Quantity</label>

                          <div class="col-md-4">

                            <input type="number" id="inputQty" name="inputQty[qty]" string-to-number class="form-control" ng-model="prescriptionForm.cdrugquantity" value="0" min="0">
                         </div>

                        <label for="inputUnits" class="col-md-2 control-label">Units</label>

                        <div class="col-md-4">

                          <input type="String" id="inputUnits" name="inputUnits" ng-model="prescriptionForm.cdrugunits"  class="form-control">

                       </div>
                         </div>


                     <div class="form-group">
                        <label for="inputPatientInstructions" class="col-md-2 control-label">Patient Instructions</label>

                        <div class="col-md-8">
                           <input type="text" class="form-control" id="inputPatientInstructions"  ng-model="prescriptionForm.patientInstructions" placeholder="Patient Instructions">
                        </div>
                      </div>

                      <div class="form-group">
                         <label for="inputPharmacistsInstructions" class="col-md-2 control-label">Pharmacist Instructions</label>

                         <div class="col-md-8">
                            <input type="text" class="form-control" id="inputPharmacistsInstructions" ng-model="prescriptionForm.pharmacistInstructions" placeholder="Pharmacist Instructions"/>
                         </div>
                       </div>
                          <div align="center" class="col-md-8" >
                       <div class="form-group">

                              <!-- <button type="button" class="btn btn-info-outline waves-effect btn-lg">Cancel</button> -->
                              <button type="submit" class="btn btn-success-outline waves-effect btn-lg" ng-disabled="prescriptionForm.$invalid" >  <i class="fa fa-ambulance fa-fw" ></i> Create Prescription</button>


                           <!-- <a ng-href="#/printlabel" class="btn btn-block btn-info">
                         <i class="fa fa-ambulance fa-fw" ></i> Submit Prescription </a> -->
                         </div>
                       </div>
                </fieldset>
            </form>
          </div>
            <div ng-switch-when="prescription">

              <div class="panel panel-default" ng-controller="PrescriptionCtrl" data-ng-init="getPrescriptions()">
        					<div class="panel-heading">Precription List</div>
        					<div class="panel-body table-responsive">
                    <table class="table">
  						              <thead>
  						                      <tr>
  						                              <th>Rx ID</th>
  						                              <th>Drug Name</th>
  						                              <th>Drug Qty</th>
																						<th>Status</th>
																						<th>PatientId</th>
																						<th></th>
  						                      </tr>
  						              </thead>
														<tbody ng-repeat="prescription in prescriptions.data">
																<tr>
																	<td>{{prescription._id}}</td>
																		<td>{{prescription.drugname}}</td>
																			<td>{{prescription.drugQty}}</td>
																				<td>{{prescription.status}}</td>
																					<td>{{prescription.patientId}}</td>
																					<td><a ng-href="#/printlabel">
							                          <i class="fa fa-print fa-fw" ></i> Print Label </a>

																</tr>
														</tbody>

  						     </table>

        					</div>
        				</div>

            </div>
</div>
</div>
</div>

</div>
<script>
		!function ($) {
			$(document).on("click","ul.nav li.parent > a > span.icon", function(){
				$(this).find('em:first').toggleClass("glyphicon-minus");
			});
			$(".sidebar span.icon").find('em:first').addClass("glyphicon-plus");
		}(window.jQuery);

		$(window).on('resize', function () {
		  if ($(window).width() > 768) $('#sidebar-collapse').collapse('show')
		})
		$(window).on('resize', function () {
		  if ($(window).width() <= 767) $('#sidebar-collapse').collapse('hide')
		})
	</script>
